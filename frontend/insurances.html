<!doctype html>
<html lang="fa" dir="rtl">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>بیمه‌ها — کلینیک</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  </head>
  <body class="bg-light">
    <div class="container py-4">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <h4>بیمه‌ها</h4>
        <a href="dashboard.html" class="btn btn-outline-secondary">بازگشت</a>
      </div>
      <table class="table bg-white shadow-sm"><thead><tr><th>شناسه</th><th>نام</th><th>بیمار مرتبط</th></tr></thead><tbody id="insTbody"></tbody></table>
    </div>
    <script src="api.js"></script>
    <script>
      async function loadIns(){ try{ const list=await api.getInsurances(0,100) || []; const tb=document.getElementById('insTbody'); tb.innerHTML=''; list.forEach(i=>{ const tr=document.createElement('tr'); tr.innerHTML=`<td>${i.id}</td><td>${i.name||'-'}</td><td>${(i.patient && (i.patient.full_name||i.patient.name))||i.patient_id||'-'}</td>`; tb.appendChild(tr); }); }catch(e){console.warn(e)} }
      loadIns();
    </script>
  </body>
</html>
